<div class="h-full flex flex-col overflow-hidden">
    <!-- Sticky Header -->
    <app-header title="The Case File"></app-header>

    <!-- Scrollable Content -->
    <div class="flex-grow overflow-y-auto scrollbar-none p-4 pb-12">
        <div class="bg-detective-cream paper-shadow rounded-sm p-4 flex flex-col space-y-4">
            <!-- Mission Title -->
            <div class="border-b-2 border-detective-brown/20 pb-2">
                <h2 class="font-heading text-2xl text-detective-brown leading-tight">{{ missionTitle() }}</h2>
                <div class="flex items-center space-x-2 mt-1">
                    <span
                        class="text-[10px] font-body font-bold uppercase tracking-widest bg-detective-brown text-white px-2 py-0.5 rounded-sm">
                        Location: {{ missionLocation() }}
                    </span>
                </div>
            </div>

            <!-- Mission Image -->
            <div class="polaroid-container">
                <div class="polaroid-frame bg-white p-3 shadow-md rotate-[-1deg]">
                    <img [src]="missionImage()" [alt]="missionTitle()"
                        class="w-full aspect-video object-cover grayscale-25 brightness-95 contrast-105 border border-detective-brown/10">
                    <p class="mt-3 font-handwriting text-detective-brown text-center text-sm opacity-80">
                        Evidence #0{{ missionTitle().length % 9 + 1 }} - Field Surveillance
                    </p>
                </div>
            </div>

            <!-- Mission Description -->
            <div class="font-body text-detective-brown/90 text-sm leading-relaxed space-y-4 pt-2">
                @for (paragraph of missionParagraphs(); track $index) {
                <p>{{ paragraph }}</p>
                }
            </div>
        </div>
    </div>

    <!-- Sticky Footer -->
    <footer
        class="flex-none p-4 pt-2 bg-detective-brown border-t border-white/5 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]">
        <button routerLink="/deployment"
            class="w-full bg-detective-red text-white font-heading py-4 text-xl uppercase tracking-widest shadow-lg hover:bg-detective-red-dark transition-colors">
            Start Investigation
        </button>
    </footer>
</div>